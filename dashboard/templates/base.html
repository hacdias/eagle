{{ define "base" }}
<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <meta http-equiv=x-ua-compatible content="IE=edge">
    <meta name=viewport content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#2980b9">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <title>{{ template "title" . }}</title>
    <link rel=stylesheet href=/css/normalize.css>
    <link rel=stylesheet href=/css/styles.css>
  </head>
  <body>
    {{ if not .IsLogin }}
    <navbar>
      <ul>
        <li><a href="/" id="eagle">Eagle</a></li>
        <li>{{ if .HasAuth }}<a href="/logout">Logout</a>{{ end }}</li>
      </ul>
    </navbar>
    {{ end }}

    <main>{{ template "main" . }}</main>
  </body>
</html>
{{ end }}

{{ define "new-form" }}
<form method=POST action="/new">
  <input required name=id id=id type=text value="{{ .ID }}" />
  <textarea required id=content name=content>{{ .Content }}</textarea>
  <div id="editor"></div>

  <div class=inline>
    <input type=checkbox name=twitter id=twitter />
    <label for=twitter>Publish on Twitter</label>
  </div>

  <input required type=hidden id=action name=action value=create />
  <input required hidden name=defaultid id=defaultid type=text value="{{ .ID }}" />
  <button>Create</button>
</form>

<script src="/js/editor.bundle.js"></script>
{{ end }}
